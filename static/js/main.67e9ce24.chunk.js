(this.webpackJsonpmy=this.webpackJsonpmy||[]).push([[0],{102:function(t,e,n){},103:function(t,e,n){},131:function(t,e,n){"use strict";n.r(e);var r,a,c=n(0),s=n.n(c),o=n(12),i=n.n(o),u=(n(102),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,198)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))}),l=(n(103),n(83)),d=n.n(l),O=n(31),b=n(10),f=n(15),j=n(19),p=n.n(j),h=n(79),x=n.n(h).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"7ccc0386-8558-4e56-b3f7-82cd09cd2d3e"}});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.later=4]="later"}(a||(a={}));var v,m=function(){return x.get("/todo-lists")},T=function(t){return x.post("/todo-lists",{title:t})},g=function(t){return x.delete("/todo-lists/".concat(t))},k=function(t){return x.put("/todo-lists/".concat(t.todolistId),{title:t.title})},S=function(t){return x.get("/todo-lists/".concat(t,"/tasks"))},y=function(t,e){return x.post("/todo-lists/".concat(e,"/tasks"),{title:t})},E=function(t,e){return x.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},w=function(t,e,n){return x.put("/todo-lists/".concat(e,"/tasks/").concat(n),t)},C={status:"idle",error:null},D=function(t){return{type:"APP/SET-APP-STATUS",status:t}},A=function(t){return{type:"APP/SET-APP-ERROR",error:t}},I=[],L=function(t){return{type:"TODO/REMOVE-TODOLIST",id:t}};!function(t){t[t.success=0]="success",t[t.error=1]="error",t[t.captcha=10]="captcha"}(v||(v={}));var N=n(21),P=n(183),K=n(14),R=n(190),H=n(181),M=n(2),F=s.a.memo((function(t){var e=t.callback,n=t.disabled,r=Object(c.useState)(""),a=Object(K.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(null),u=Object(K.a)(i,2),l=u[0],d=u[1],O=function(){""!==s.trim()?(e(s.trim()),o("")):d("title is required")};return Object(M.jsxs)("div",{children:[Object(M.jsx)(R.a,{variant:"outlined",value:s,onChange:function(t){o(t.currentTarget.value)},onKeyPress:function(t){null!==l&&d(null),13===t.charCode&&O()},label:"Type value",error:!!l,helperText:l,disabled:n}),Object(M.jsx)(H.a,{onClick:O,variant:"contained",color:"primary",style:{backgroundColor:"#ffca28",fontSize:"10px",padding:"18px 0px 18px 0px"},disabled:n,children:"+"})]})})),G=n(192),U=n(182),V=n(58),B=n.n(V),Y=n(7),J={},q=function(t,e){return{type:"TASK/REMOVE-TASK",id:e,todolistId:t}},z=function(t,e,n){return{type:"TASK/CHANGE-TASK",model:e,taskid:t,todolistId:n}},Q=function(t,e){return{type:"TASK/SET-TASKS",tasks:t,todolistId:e}},W=function(t,e,n){return function(){var r=Object(O.a)(p.a.mark((function r(a,c){var s,o,i,u;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a(D("loading")),s=c().tasks[e],!(o=s.find((function(e){return e.id===t})))){r.next=20;break}return i=Object(b.a)({title:o.title,status:o.status,description:o.description,priority:o.priority,startDate:o.startDate,deadline:o.deadline},n),r.prev=5,r.next=8,w(i,e,t);case 8:if((u=r.sent).data.resultCode===v.success){r.next=11;break}throw new SyntaxError(u.data.messages[0]);case 11:a(z(t,n,e)),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(5),"SyntaxError"===r.t0.name?a(A(r.t0.message)):"Network Error"===r.t0.message?a(A("no connection!")):a(A("something error"));case 17:return r.prev=17,a(D("success")),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[5,14,17,20]])})));return function(t,e){return r.apply(this,arguments)}}()},X=n(193),Z=n(178),$=s.a.memo((function(t){var e=t.title,n=t.onChange,r=t.disabled,a=Object(c.useState)(!1),s=Object(K.a)(a,2),o=s[0],i=s[1],u=Object(c.useState)(""),l=Object(K.a)(u,2),d=l[0],O=l[1];return o?Object(M.jsx)(Z.a,{value:d,onChange:function(t){O(t.currentTarget.value)},disabled:r,onBlur:function(){i(!1),n(d)},autoFocus:!0}):Object(M.jsx)("span",{onDoubleClick:function(){i(!0),O(e)},children:e})})),_=s.a.memo((function(t){var e=t.task,n=t.todoId,a=Object(N.b)(),s=Object(c.useCallback)((function(){var t,r;a((t=n,r=e.id,function(){var e=Object(O.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(D("loading")),e.prev=1,e.next=4,E(t,r);case 4:if((a=e.sent).data.resultCode===v.success){e.next=7;break}throw new SyntaxError(a.data.messages[0]);case 7:n(q(t,r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),"SyntaxError"===e.t0.name?n(A(e.t0.message)):"Network Error"===e.t0.message?n(A("no connection!")):n(A("something error"));case 13:return e.prev=13,n(D("success")),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()))}),[a,n,e.id]),o=Object(c.useCallback)((function(t){a(W(e.id,n,{status:t.currentTarget.checked?r.Completed:r.New}))}),[a,e.id,n]),i=Object(c.useCallback)((function(t){a(W(e.id,n,{title:t}))}),[a,e.id,n]);return Object(M.jsxs)("li",{style:{listStyleType:"none"},className:e.status===r.Completed?"is-done":"",children:[Object(M.jsx)(X.a,{checked:e.status===r.Completed,onChange:o,color:"default",inputProps:{"aria-label":"checkbox with default color"}}),Object(M.jsx)(U.a,{"aria-label":"delete",color:"default",onClick:s,children:Object(M.jsx)(B.a,{})}),Object(M.jsx)($,{title:e.title,onChange:i})]})})),tt=s.a.memo((function(t){var e=t.todo,n=t.TodoChanged,a=t.removeTodo,s=t.titleTodoStatus,o=t.demo;Object(c.useEffect)((function(){var t;o||u((t=e.id,function(){var e=Object(O.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(D("loading")),e.prev=1,e.next=4,S(t);case 4:r=e.sent,n(Q(r.data.items,t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"SyntaxError"===e.t0.name?n(A(e.t0.message)):"Network Error"===e.t0.message?n(A("no connection!")):n(A("something error"));case 11:return e.prev=11,n(D("success")),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);var i=Object(N.c)((function(t){return t.tasks[e.id]})),u=Object(N.b)(),l=Object(c.useCallback)((function(){n("all",e.id)}),[n,e.id]),d=Object(c.useCallback)((function(){n("active",e.id)}),[n,e.id]),b=Object(c.useCallback)((function(){n("completed",e.id)}),[n,e.id]),f=Object(c.useCallback)((function(t){s(e.id,t)}),[s,e.id]),j=i;return"completed"===e.filter&&(j=j.filter((function(t){return t.status===r.Completed}))),"active"===e.filter&&(j=j.filter((function(t){return t.status===r.New}))),Object(M.jsxs)(G.a,{boxShadow:10,style:{padding:"15px",border:"3px #ffca28 solid",borderRadius:"10px",backgroundColor:"white"},children:[Object(M.jsxs)("h3",{children:[Object(M.jsx)($,{title:e.title,onChange:f,disabled:"loading"===e.entityStatus}),Object(M.jsx)(U.a,{"aria-label":"delete",color:"default",onClick:function(){return a(e.id)},disabled:"loading"===e.entityStatus,children:Object(M.jsx)(B.a,{})})]}),Object(M.jsx)(F,{disabled:"loading"===e.entityStatus,callback:Object(c.useCallback)((function(t){u(function(t,e){return function(){var n=Object(O.a)(p.a.mark((function n(r){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(D("loading")),n.prev=1,n.next=4,y(t,e);case 4:if((a=n.sent).data.resultCode===v.success){n.next=7;break}throw new SyntaxError(a.data.messages[0]);case 7:r({type:"TASK/ADD-TASK",task:a.data.data.item}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),"SyntaxError"===n.t0.name?r(A(n.t0.message)):"Network Error"===n.t0.message?r(A("no connection!")):r(A("something error"));case 13:return n.prev=13,r(D("success")),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})));return function(t){return n.apply(this,arguments)}}()}(t,e.id))}),[u,e.id])}),Object(M.jsx)("ul",{children:j.map((function(t){return Object(M.jsx)(_,{task:t,todoId:e.id},t.id)}))}),Object(M.jsxs)("div",{children:[Object(M.jsx)(H.a,{variant:"all"===e.filter?"contained":"text",style:{padding:"2px"},onClick:l,children:"all"}),Object(M.jsx)(H.a,{variant:"active"===e.filter?"contained":"text",style:{padding:"2px"},onClick:d,children:"active"}),Object(M.jsx)(H.a,{variant:"completed"===e.filter?"contained":"text",style:{padding:"2px"},onClick:b,children:"complited"})]})]})})),et=s.a.memo((function(t){var e=t.demo,n=void 0!==e&&e;Object(c.useEffect)((function(){n||r(function(){var t=Object(O.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(D("loading")),t.prev=1,t.next=4,m();case 4:n=t.sent,e({type:"TODO/SET-TODO",todos:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),"Network Error"===t.t0.message?e(A("no connection!")):e(A("something error"));case 11:return t.prev=11,e(D("success")),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var r=Object(N.b)(),a=Object(N.c)((function(t){return t.todolists})),s=Object(c.useCallback)((function(t){var e;r((e=t,function(){var t=Object(O.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(D("loading")),n({type:"TODO/CHANGE-TODOLIST-ENTITY-STATUS",id:e,entityStatus:"loading"}),t.prev=2,t.next=5,g(e);case 5:if((r=t.sent).data.resultCode===v.success){t.next=8;break}throw new SyntaxError(r.data.messages[0]);case 8:n(L(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),"SyntaxError"===t.t0.name?n(A(t.t0.message)):"Network Error"===t.t0.message?n(A("no connection!")):n(A("something error"));case 14:return t.prev=14,n(D("success")),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()))}),[r]),o=Object(c.useCallback)((function(t,e){var n,a;r((n=t,a=e,function(){var t=Object(O.a)(p.a.mark((function t(e){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(D("loading")),t.prev=1,t.next=4,k({todolistId:n,title:a});case 4:if((r=t.sent).data.resultCode===v.success){t.next=7;break}throw new SyntaxError(r.data.messages[0]);case 7:e({type:"TODO/CHANGE-TODOLIST-TITLE",id:n,title:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),"SyntaxError"===t.t0.name?e(A(t.t0.message)):"Network Error"===t.t0.message?e(A("no connection!")):e(A("something error"));case 13:return t.prev=13,e(D("success")),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()))}),[r]),i=Object(c.useCallback)((function(t){r(function(t){return function(){var e=Object(O.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(D("loading")),e.prev=1,e.next=4,T(t);case 4:if((r=e.sent).data.resultCode===v.success){e.next=7;break}throw new SyntaxError(r.data.messages[0]);case 7:n({type:"TODO/ADD-TODOLIST",todolist:r.data.data.item}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),"SyntaxError"===e.t0.name?n(A(e.t0.message)):"Network Error"===e.t0.message?n(A("no connection!")):n(A("something error"));case 13:return e.prev=13,n(D("success")),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[r]),u=Object(c.useCallback)((function(t,e){r({type:"TODO/CHANGE-TODOLIST-FILTER",id:e,filter:t})}),[r]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(P.a,{container:!0,style:{padding:"20px"},children:Object(M.jsx)(F,{callback:i})}),Object(M.jsx)(P.a,{container:!0,spacing:3,children:a.map((function(t){return Object(M.jsx)(P.a,{item:!0,children:Object(M.jsx)(tt,{todo:t,TodoChanged:u,removeTodo:s,titleTodoStatus:o,demo:n})},t.id)}))})]})})),nt=n(184),rt=function(){var t=c.useState(0),e=Object(K.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){var t=setInterval((function(){r((function(t){if(100===t)return 0;var e=10*Math.random();return Math.min(t+e,100)}))}),300);return function(){clearInterval(t)}}),[]),Object(M.jsx)(G.a,{sx:{width:"100%"},children:Object(M.jsx)(nt.a,{variant:"determinate",value:n,style:{backgroundColor:"#80cbc4"}})})},at=n(185),ct=n(187),st=n(186),ot=n(188),it=n(189),ut=n(195),lt=s.a.forwardRef((function(t,e){return Object(M.jsx)(it.a,Object(b.a)({elevation:6,ref:e,variant:"filled"},t))}));function dt(){var t=Object(N.c)((function(t){return t.app.error})),e=Object(N.b)(),n=function(t,n){"clickaway"!==n&&e(A(null))};return console.log(t),Object(M.jsx)(ut.a,{open:null!==t,autoHideDuration:8e3,onClose:n,children:Object(M.jsx)(lt,{onClose:n,severity:"error",sx:{width:"100%"},children:t})})}var Ot=function(t){var e=t.demo,n=void 0!==e&&e,r=Object(N.c)((function(t){return t.app.status}));return Object(M.jsxs)(G.a,{children:[Object(M.jsx)(G.a,{style:{height:"4px"},children:"loading"===r&&Object(M.jsx)(rt,{})}),Object(M.jsx)(at.a,{position:"static",style:{backgroundColor:"#ffca28",padding:"20px"},children:Object(M.jsxs)(st.a,{children:[Object(M.jsx)(U.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(M.jsx)(d.a,{})}),Object(M.jsx)(ct.a,{variant:"h2",style:{margin:"0px 40px 0px 40px"},children:"Todolist"}),Object(M.jsx)(H.a,{color:"inherit",children:"Login"})]})}),Object(M.jsx)(ot.a,{style:{marginTop:"20px"},children:Object(M.jsx)(et,{demo:n})}),Object(M.jsx)(dt,{})]})},bt=n(59),ft=n(84),jt=Object(bt.b)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TODO/REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"TODO/ADD-TODOLIST":return[Object(b.a)(Object(b.a)({},e.todolist),{},{filter:"all",entityStatus:"idle"})].concat(Object(f.a)(t));case"TODO/CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),{},{title:e.title}):t}));case"TODO/CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),{},{filter:e.filter}):t}));case"TODO/CHANGE-TODOLIST-ENTITY-STATUS":return t.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),{},{entityStatus:e.entityStatus}):t}));case"TODO/SET-TODO":return e.todos.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{filter:"all",entityStatus:"idle"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TODO/SET-TODO":var n=Object(b.a)({},t);return e.todos.forEach((function(t){n[t.id]=[]})),n;case"TASK/REMOVE-TASK":return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.id}))));case"TASK/ADD-TASK":return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.task.todoListId,[e.task].concat(Object(f.a)(t[e.task.todoListId]))));case"TASK/CHANGE-TASK":return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskid?Object(b.a)(Object(b.a)({},t),e.model):t}))));case"TODO/ADD-TODOLIST":return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.todolist.id,[]));case"TODO/REMOVE-TODOLIST":var r=Object(b.a)({},t);return delete r[e.id],r;case"TASK/SET-TASKS":return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.todolistId,e.tasks));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-APP-STATUS":return Object(b.a)(Object(b.a)({},t),{},{status:e.status});case"APP/SET-APP-ERROR":return Object(b.a)(Object(b.a)({},t),{},{error:e.error});default:return t}}}),pt=Object(bt.c)(jt,Object(bt.a)(ft.a));window.store=pt,i.a.render(Object(M.jsx)(N.a,{store:pt,children:Object(M.jsx)(Ot,{})}),document.getElementById("root")),u()}},[[131,1,2]]]);
//# sourceMappingURL=main.67e9ce24.chunk.js.map